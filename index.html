<!DOCTYPE html>
<html>
    <head>
        <title>Introduction aux canvas</title>
        <meta charset="utf-8"/>
        <link rel="shortcut icon" type="image/x-icon" href="../images/aubergine.png" />
        <link rel="stylesheet" href="../css/cssTemplate.css" />
    </head>
    <body>

        <h1> les canvas</h1>


        <p>1er canvas : une zone de dessin avec une bordure noire <br/>
        dans lequel on dessine un rectangle rouge puis un vert</p>
        <canvas id="canvas1" width="300" height="200" style="border:1px solid #000000;" ></canvas>
        
        <script>
            //récupérer l'objet canvas par son id
            var canvas = document.getElementById("canvas1");
            //creer un objet de dessin sur le canvas
            var ctx = canvas.getContext("2d");
            //dessiner : affecter un style à l'objet dessin ; le style par défaut est noir
            ctx.fillStyle = "#ff0000";
            //on dessine un rectangle avec le fillstyle précédent sur le canvas
            ctx.fillRect(0, 0, 150, 100);

            //dessiner : affecter un style à l'objet dessin ; style par défaut est noir
            ctx.fillStyle = "#00ff00";
            //on dessine un rectangle avec le fillstyle précédent sur le canvas
            ctx.fillRect(150, 100, 150, 100);
        </script>


        <p>2eme canvas : une zone de dessin avec bordure bleue <br/>
        dans lequel on dessine des traits</p>
        <canvas id="canvas2" width="300" height="200" style="border:1px solid #0000ff;" ></canvas>

        <script type="text/javascript">
            var canvas = document.getElementById("canvas2");
            var ctx = canvas.getContext("2d");
            //se positionner en 0,0 du canvas2
            ctx.moveTo(0, 0);
            //coordonnees du dernier point de la droite
            ctx.lineTo(300,200);
            //dessiner la ligne droite
            ctx.stroke();

            //suite: dessiner les deux diagonales
            ctx.moveTo(0, 200);
            ctx.lineTo(300, 0);
            ctx.stroke();

            //suite: dessiner les deux médianes
            ctx.moveTo(0, canvas.height/2);
            ctx.lineTo(canvas.width, canvas.height/2);
            ctx.stroke();

            ctx.moveTo(canvas.width/2, 0);
            ctx.lineTo(canvas.width/2, canvas.height);
            ctx.stroke();
        </script>


        <p>3eme canvas : zone de dessin avec une bordure bleue cyan <br/>
        dans lequel on dessine un cercle</p>
        <canvas id="canvas3" width="300" height="200" style="border:1px solid #00ffff;"></canvas>
        
        <script type="text/javascript">
            var canvas = document.getElementById("canvas3");
            var ctx = canvas.getContext("2d");
            //démarrer le trait
            ctx.beginPath();
            /*on définit une courbe en fait : le cercle est une courbe particulière
            arc(x,y,r,angle_départ,angle_fin)
            pour dessiner un cercle : angle_départ=0 et agle_fin=2*Math.PI
            x et y : position du centre du cercle
            r le rayon du cercle */
            ctx.arc(canvas.width/2, canvas.height/2, canvas.height*0.4, 0, 2*Math.PI);
            //gérer la couleur du trait
            ctx.strokeStyle= "#00ff00";

            //affecter l'épaisseur du trait ; 1px par défaut
            ctx.lineWidth=3;
            //dessiner le cercle
            ctx.stroke();
            //"fermer" la forme pour revenir automatiquement au point de départ avec:
            ctx.closePath();

            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, canvas.height*0.3, 0, 2*Math.PI);
            ctx.strokeStyle= "#ffff00";
            ctx.stroke();

            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, canvas.height*0.2, 0, 2*Math.PI);
            ctx.strokeStyle= "#ff0000";
            //remplir la forme d'une couleur
            ctx.fillStyle="darkblue";
            ctx.fill();
            ctx.stroke();
        </script>


        <p>4eme canvas : les gradients</p>
        <p>gradient linéaire</p>
        <canvas id="canvas4" width="300" height="200" style="border:1px solid #000000;"></canvas> 

        <script type="text/javascript">
            var canvas = document.getElementById("canvas4");
            var ctx = canvas.getContext("2d");
            //creer un gradient
            var grd = ctx.createLinearGradient(0, 0, 175, 0);
            grd.addColorStop(0, "red");
            grd.addColorStop(0.7, "green");
            grd.addColorStop(1, "yellow");

            //remplir avec le gradient
            ctx.fillStyle = grd;
            ctx.fillRect(20, 20, 260, 160);
        </script>


        <p>5eme canvas : encore des gradients</p>
        <p>gradients circulaires</p>
        <canvas id="canvas5" width="300" height="200" style="border:1px solid #000000;"></canvas>

        <script type="text/javascript">
            var canvas = document.getElementById("canvas5");
            var ctx = canvas.getContext("2d");

            var grd = ctx.createRadialGradient(150, 100, 20, 100, 150, 100);
            grd.addColorStop(0, "red");
            grd.addColorStop(1, "blue");

            ctx.fillStyle = grd;
            ctx.fillRect(10, 10, 280, 180);
        </script>


        <p>6eme canvas : dessiner des textes dans les canvas</p>
        <canvas id="canvas6" width="300" height="200" style="border:1px solid #000000;"></canvasid>

        <script type="text/javascript">
            var canvas = document.getElementById("canvas6");
            var ctx = canvas.getContext("2d");
            //déterminer la police
            ctx.font = "50px Arial";
            ctx.fillText("Hello World", 20, 70);

            ctx.strokeText("Hello World", 20, 120);

            ctx.font = "20px Algerian";
            ctx.fillStyle = "purple";
            //ctx.textAlign = "center";
            ctx.fillText("largeur du canvas: " + canvas.width, 20, 170);
        </script>


        <p>7eme canvas : dessiner des images dans les canvas</p>
        <p>L'image</p>
        <br/><br/>
        <img id="aubergine" width="20%" height="20%" src="../images/aubergine.png" alt="aubergine" style="transform: rotate(90deg);">
        <br/><br/>

        <p>Le canvas</p>
        <canvas id="canvas7" width="300" height="200" style="border:1px solid #000000; transform: rotate(90deg);"></canvas>
        <br/><br/><br/><br/>

        <p>le canvas 2 : image chargée dynamiquement (à partir de rien)</p>
        <br/><br/>
        <canvas id="canvasX" width="300" height="200" style="border:1px solid #000000; transform: rotate(90deg);"></canvas>
        
        <script type="text/javascript">
            window.onload = function() {
                var canvas = document.getElementById("canvas7");
                var ctx= canvas.getContext("2d");
                var img = document.getElementById("aubergine");

                //ctx.drawImage(img, 0, 0, canvas.width/2, canvas.height/2);
                ctx.drawImage(img, (canvas.width-img.width)/2, (canvas.height-img.height)/2, img.width, img.height);

                var canvas = document.getElementById("canvasX");
                var ctx = canvas.getContext("2d");

                var img = new Image();
                img.src = '../images/aubergine.png';
                img.width=canvas.width/2;
                img.height=canvas.height/2;
                //ctx.drawImage(img, 0, 0, canvas.width/2, canvas.height/2);
                ctx.drawImage(img, (canvas.width-img.width)/2, (canvas.height-img.height)/2, img.width, img.height);

                draw();
            }
        </script>


        <p>le canvas 3 image : graphinque sur image chargée dynamiquement (à partir de rien)</p>
        <br/><br/>

        <canvas id="canvas8" width="300" height="200" style="border:1px solid #000000;"></canvas>

        <script type="text/javascript">
            function draw() {
                var canvas = document.getElementById("canvas8");
                var ctx = canvas.getContext("2d");
                var img = new Image();
                img.onload = function() {
                    ctx.drawImage(img, 0, 0);
                    //ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                    ctx.beginPath();
                    ctx.moveTo(30, 96);
                    ctx.lineTo(70, 66); 
                    ctx.lineTo(103, 76);
                    ctx.lineTo(170, 15);
                    ctx.stroke();
                    ctx.fillText("dessiner un graphique", 70, 17);
                };
                img.src = 'aubergine.png';
            }
        </script>

        
        <footer>
            Marine Schwartz - 2019
        </footer>
    </body>
</html>